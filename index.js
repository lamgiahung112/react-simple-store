import{useCallback as e,useSyncExternalStore as t}from"react";function createStore(e){let t=e=>{r=e(r),o.forEach(e=>e())},r=e(t),o=new Set,c=e=>(o.add(e),()=>o.delete(e));return{getState:()=>r,setState:t,subscribe:c}}function _selfSelector(e){return e}function useStore(r,o=_selfSelector){return t(r.subscribe,e(()=>o(r.getState()),[r,o]),()=>o(r.getState()))}export{useStore,createStore};